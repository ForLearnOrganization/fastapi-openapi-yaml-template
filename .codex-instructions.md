# Codex Instructions - Codexエージェント向けガイドライン

## 言語設定 (Language Settings)
このプロジェクトでは**日本語**でのコミュニケーションを基本とします。

- すべての応答は日本語で行ってください
- コードコメントは日本語で記述してください
- ドキュメントは日本語で作成してください
- Pull Requestのタイトル・説明・コメントは日本語で記述してください

## プロジェクト概要 (Project Overview)
このプロジェクトは、FastAPIを使用したスケーラブルなローカルLLM APIサーバーです。

### 主要機能
- テキスト生成API（ルールベース、将来的にLLM対応予定）
- 外部API統合（天気、名言、豆知識、プログラミングジョーク）
- 自動生成ドキュメント
- TypeScript型定義生成（Next.js連携用）
- 健康診断エンドポイント

### アーキテクチャ原則
- モジュラー構造（ルーター、サービス、モデルの分離）
- 設定駆動開発（YAML設定ファイル）
- 型安全性（Pydantic models）
- 自動ドキュメント生成（OpenAPI/Swagger）

## コーディング規約 (Coding Standards)

### ファイル構造
```
app/
├── api/v1/endpoints/     # APIルートハンドラー
├── core/                 # 設定とコア機能
├── models/               # Pydanticスキーマ
├── services/             # ビジネスロジック
└── utils/                # ユーティリティ関数
```

### コメント規約
- 関数の説明は日本語で記述
- 複雑なロジックには詳細な日本語コメントを追加
- APIエンドポイントのdocstringは日本語で記述

### 命名規約
- 変数名・関数名は英語（国際的な慣例に従う）
- コメント・ドキュメントは日本語
- 設定項目名は英語（YAML設定ファイル）

## 開発ガイドライン (Development Guidelines)

### 新機能追加時
1. `app/models/`にPydanticモデルを定義
2. `app/services/`にビジネスロジックを実装
3. `app/api/v1/endpoints/`にAPIエンドポイントを追加
4. 日本語でドキュメントを更新

### テスト
- エンドポイントの動作確認を必須とする
- 型生成スクリプトの動作確認
- CORS設定の確認

### デプロイメント
- Poetry依存関係管理
- Docker対応（オプション）
- 本番環境設定（Gunicorn）

## PR作成時の注意 (Pull Request Guidelines)
- PRタイトルと概要は必ず日本語で記述してください
- `make format` と `make test` を実行し、結果をPR説明に記載してください
- 変更点の要約を日本語で書き、関連ファイルへのリンクを明示してください
- コメントやレビューへの返信も日本語で行ってください

## 注意事項 (Important Notes)
- 外部モデルアクセスが制限されているため、現在は**ルールベース**のテキスト生成を使用
- 将来的にはHugging Face TransformersやOpenAI APIとの統合を予定
- Next.js連携のためのTypeScript型生成機能を提供

このファイルにより、Codexエージェントが日本語で応答し、プロジェクトの方針に沿った開発を行います。
